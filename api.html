

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>API Documentation &mdash; wormtable 0.1.0 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="wormtable 0.1.0 documentation" href="index.html" />
    <link rel="next" title="Command line utilities" href="utilities.html" />
    <link rel="prev" title="Data types" href="data-types.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="utilities.html" title="Command line utilities"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="data-types.html" title="Data types"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">wormtable 0.1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="api-documentation">
<span id="api-index"></span><h1>API Documentation<a class="headerlink" href="#api-documentation" title="Permalink to this headline">¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Release:</th><td class="field-body">0.1</td>
</tr>
<tr class="field-even field"><th class="field-name">Date:</th><td class="field-body">June 27, 2013</td>
</tr>
</tbody>
</table>
<span class="target" id="module-wormtable"></span><p>This is the API documentation for wormtable. The documentation currently
concentrates the read-API, since the initial release is intended
primarily for use with VCF data. For details on how to build a
wormtable from a VCF file see the <a class="reference internal" href="tutorial.html#tutorial-index"><em>tutorial</em></a> or the
documentation for <a class="reference internal" href="utilities.html#vcf2wt-index"><em>vcf2wt</em></a>.</p>
<p>In the <a class="reference internal" href="#api-examples"><em>Examples</em></a> section we take an informal tour of the API using
a small example table. The <a class="reference internal" href="#api-reference"><em>Reference</em></a> section provides concrete
API documentation for the <a class="reference internal" href="#module-wormtable" title="wormtable: Write-once read-many table for large datasets. (Unix)"><tt class="xref py py-mod docutils literal"><span class="pre">wormtable</span></tt></a> module.</p>
<div class="section" id="examples">
<span id="api-examples"></span><h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<p>To illustrate the <a class="reference internal" href="#module-wormtable" title="wormtable: Write-once read-many table for large datasets. (Unix)"><tt class="xref py py-mod docutils literal"><span class="pre">wormtable</span></tt></a> API, we use a wormtable <cite>pythons.wt</cite> which contains
the following data:</p>
<table border="1" class="docutils">
<colgroup>
<col width="31%" />
<col width="9%" />
<col width="13%" />
<col width="11%" />
<col width="18%" />
<col width="18%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">name</th>
<th class="head">born</th>
<th class="head">writer</th>
<th class="head">actor</th>
<th class="head">director</th>
<th class="head">producer</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>John Cleese</td>
<td>1939</td>
<td>60</td>
<td>127</td>
<td>0</td>
<td>43</td>
</tr>
<tr class="row-odd"><td>Terry Gilliam</td>
<td>1940</td>
<td>25</td>
<td>24</td>
<td>18</td>
<td>8</td>
</tr>
<tr class="row-even"><td>Eric Idle</td>
<td>1943</td>
<td>38</td>
<td>74</td>
<td>7</td>
<td>5</td>
</tr>
<tr class="row-odd"><td>Terry Jones</td>
<td>1942</td>
<td>50</td>
<td>49</td>
<td>16</td>
<td>1</td>
</tr>
<tr class="row-even"><td>Michael Palin</td>
<td>1943</td>
<td>58</td>
<td>56</td>
<td>0</td>
<td>1</td>
</tr>
<tr class="row-odd"><td>Graham Chapman</td>
<td>1941</td>
<td>46</td>
<td>24</td>
<td>0</td>
<td>2</td>
</tr>
</tbody>
</table>
<p>This table consists of six columns: the name of the Python, the year they were
born and the number of entries in <a class="reference external" href="http://www.imdb.com">IMDB</a> they have under these
headings as of 2013.</p>
<p>The <a class="reference internal" href="#wormtable.open_table" title="wormtable.open_table"><tt class="xref py py-func docutils literal"><span class="pre">open_table()</span></tt></a> function returns a <a class="reference internal" href="#wormtable.Table" title="wormtable.Table"><tt class="xref py py-class docutils literal"><span class="pre">Table</span></tt></a> object
opened for reading, and is analogous to the <a class="reference external" href="http://docs.python.org/library/functions.html#open" title="(in Python v2.7)"><tt class="xref py py-func docutils literal"><span class="pre">open()</span></tt></a> function
from the Python standard library. So, to open our Pythons table
for reading, we might do the following:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">wormtable</span> <span class="kn">as</span> <span class="nn">wt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">wt</span><span class="o">.</span><span class="n">open_table</span><span class="p">(</span><span class="s">&quot;pythons.wt&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="go">6</span>
</pre></div>
</div>
<p>Tables that are opened should be closed when they are no longer needed.
This is done using the <tt class="xref py py-func docutils literal"><span class="pre">close()</span></tt> function, again analogous
to Python file handling. Trying to access a closed table results in
an error:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;&lt;stdin&gt;&quot;</span>, line <span class="m">1</span>, in <span class="n">&lt;module&gt;</span>
  File <span class="nb">&quot;./wormtable.py&quot;</span>, line <span class="m">637</span>, in <span class="n">__len__</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">verify_open</span><span class="p">()</span>
  File <span class="nb">&quot;./wormtable.py&quot;</span>, line <span class="m">447</span>, in <span class="n">verify_open</span>
    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s">&quot;Database must be opened&quot;</span><span class="p">)</span>
<span class="gr">ValueError</span>: <span class="n">Database must be opened</span>
</pre></div>
</div>
<p>The <a class="reference internal" href="#wormtable.Table" title="wormtable.Table"><tt class="xref py py-class docutils literal"><span class="pre">Table</span></tt></a> class also supports the
<a class="reference external" href="http://www.python.org/dev/peps/pep-0343/">context manager</a>
protocol, so we can automatically close a table that has
been opened:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">with</span> <span class="n">wt</span><span class="o">.</span><span class="n">open_table</span><span class="p">(</span><span class="s">&quot;pythons.wt&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">t</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">t</span><span class="p">))</span>
</pre></div>
</div>
<p>The <a class="reference external" href="http://docs.python.org/library/functions.html#len" title="(in Python v2.7)"><tt class="xref py py-func docutils literal"><span class="pre">len()</span></tt></a> function tells us that there are 6 rows in the <cite>pythons.wt</cite>
table.  The <a class="reference internal" href="#wormtable.Table" title="wormtable.Table"><tt class="xref py py-class docutils literal"><span class="pre">Table</span></tt></a> class supports the read-only Python sequence
protocol, and so tabless can be treated like a two-dimensional list in
many ways. For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">(0, b&#39;John Cleese&#39;, 1939, 60, 127, 0, 43)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="go">(5, b&#39;Graham Chapman&#39;, 1941, 46, 24, 0, 2)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">[</span><span class="mi">4</span><span class="p">:]</span>
<span class="go">[(4, b&#39;Michael Palin&#39;, 1943, 58, 56, 0, 1), (5, b&#39;Graham Chapman&#39;, 1941, 46, 24, 0, 2)]</span>
</pre></div>
</div>
<p>Rows are returned as tuples, with values for each column occupying
the corresponding position. This is not the recommended interface
for retrieving values from a table, however.
A more efficient method of iterating over values in a table is
to use a <a class="reference internal" href="#wormtable.Cursor" title="wormtable.Cursor"><tt class="xref py py-class docutils literal"><span class="pre">Cursor</span></tt></a>.</p>
<p>Suppose we are only interested in the name and the birth year of the pythons. We could
do something like:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">wt</span><span class="o">.</span><span class="n">open_table</span><span class="p">(</span><span class="s">&quot;pythons.wt&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[(</span><span class="n">r</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">r</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">t</span><span class="p">]</span>
<span class="go">[(b&#39;John Cleese&#39;, 1939), (b&#39;Terry Gilliam&#39;, 1940), (b&#39;Eric Idle&#39;, 1943), (b&#39;Terry Jones&#39;, 1942), (b&#39;Michael Palin&#39;, 1943), (b&#39;Graham Chapman&#39;, 1941)]</span>
</pre></div>
</div>
<p>This is very inefficient, however, if we have a large number of columns, because <a class="reference internal" href="#module-wormtable" title="wormtable: Write-once read-many table for large datasets. (Unix)"><tt class="xref py py-mod docutils literal"><span class="pre">wormtable</span></tt></a>
must build a tuple containing all of the columns in each row, even though most of this will
not be used. It is also inconvenient: we must remember that the <cite>name</cite> column is in position
1, and the <cite>born</cite> column is in position 2.</p>
<p>A much more efficient and convenient approach is to use a <a class="reference internal" href="#wormtable.Cursor" title="wormtable.Cursor"><tt class="xref py py-class docutils literal"><span class="pre">Cursor</span></tt></a>. Cursors
provide a simple means of iterating over rows, and retrieving values for a given
set of columns. Repeating the example above:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">cursor</span><span class="p">([</span><span class="s">&quot;name&quot;</span><span class="p">,</span> <span class="s">&quot;born&quot;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">r</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">c</span><span class="p">]</span>
<span class="go">[(b&#39;John Cleese&#39;, 1939), (b&#39;Terry Gilliam&#39;, 1940), (b&#39;Eric Idle&#39;, 1943), (b&#39;Terry Jones&#39;, 1942), (b&#39;Michael Palin&#39;, 1943), (b&#39;Graham Chapman&#39;, 1941)]</span>
</pre></div>
</div>
<p>The <a class="reference internal" href="#wormtable.Table.cursor" title="wormtable.Table.cursor"><tt class="xref py py-meth docutils literal"><span class="pre">Table.cursor()</span></tt></a> method returns a <a class="reference internal" href="#wormtable.Cursor" title="wormtable.Cursor"><tt class="xref py py-class docutils literal"><span class="pre">Cursor</span></tt></a> object over the required columns. (Cursors are intended to
be used over very large datasets, and so we would not usually construct a list of the rows.)
Cursors also provide a way to restrict the rows that are retrieved from the table. This is done using the
<a class="reference internal" href="#wormtable.Cursor.set_min" title="wormtable.Cursor.set_min"><tt class="xref py py-meth docutils literal"><span class="pre">Cursor.set_min()</span></tt></a> and <cite>Cursor.set_max</cite> functions. For example, to only retrieve rows 1 to 3, we would
do the following (rows are zero-indexed in wormtable):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">cursor</span><span class="p">([</span><span class="s">&quot;name&quot;</span><span class="p">,</span> <span class="s">&quot;born&quot;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">set_min</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">set_max</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">r</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">c</span><span class="p">]</span>
<span class="go">[(b&#39;Terry Gilliam&#39;, 1940), (b&#39;Eric Idle&#39;, 1943), (b&#39;Terry Jones&#39;, 1942)]</span>
</pre></div>
</div>
<p>Note here that <a class="reference internal" href="#wormtable.Cursor.set_min" title="wormtable.Cursor.set_min"><tt class="xref py py-meth docutils literal"><span class="pre">Cursor.set_min()</span></tt></a> is <em>inclusive</em> and <a class="reference internal" href="#wormtable.Cursor.set_max" title="wormtable.Cursor.set_max"><tt class="xref py py-meth docutils literal"><span class="pre">Cursor.set_max()</span></tt></a> is <em>exclusive</em>.</p>
</div>
<div class="section" id="reference">
<span id="api-reference"></span><h2>Reference<a class="headerlink" href="#reference" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="wormtable.open_table">
<tt class="descclassname">wormtable.</tt><tt class="descname">open_table</tt><big>(</big><em>homedir</em>, <em>cache_size='16M'</em><big>)</big><a class="headerlink" href="#wormtable.open_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a table opened in read mode with cache size 
set to the specified value. This is the recommended 
interface when opening tables for reading.</p>
<p>See <a class="reference internal" href="performance.html#performance-cache"><em>Cache tuning</em></a> for details on setting cache sizes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>homedir</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; the filesystem path for the wormtable home directory</li>
<li><strong>cache_size</strong> (<em>str or int.</em>) &#8211; The Berkeley DB cache size for the table.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="wormtable.Table">
<em class="property">class </em><tt class="descclassname">wormtable.</tt><tt class="descname">Table</tt><a class="headerlink" href="#wormtable.Table" title="Permalink to this definition">¶</a></dt>
<dd><p>The table class represents a wormtable located in a <em>home directory</em>. The home directory
for a table stores the Berkeley DB databases used to store the rows and indexes, along
with some metadata to describe these tables. The files within a home directory are not
intended to be accessed directly; modifications to a table should be made through
this API only.</p>
<dl class="method">
<dt id="wormtable.Table.cursor">
<tt class="descname">cursor</tt><big>(</big><em>columns</em>, <em>index=None</em><big>)</big><a class="headerlink" href="#wormtable.Table.cursor" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a cursor over the rows in this database, retrieving the specified 
columns. If index is provided, the cursor will iterate over the rows in 
the order defined by the index.</p>
<p>The columns specified may be either <a class="reference internal" href="#wormtable.Column" title="wormtable.Column"><tt class="xref py py-class docutils literal"><span class="pre">Column</span></tt></a> instances, integers 
or strings. If an integer is provided, the column
at the specified position is used and if a string is provided, the column 
with the specified identifier is used. These may be mixed arbitrarily.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>columns</strong> (<em>sequence of column identifiers</em>) &#8211; columns to retrieve from the table</li>
<li><strong>index</strong> (<a class="reference internal" href="#wormtable.Index" title="wormtable.Index"><tt class="xref py py-class docutils literal"><span class="pre">Index</span></tt></a>) &#8211; index defining the order in which rows are retrieved</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#wormtable.Cursor" title="wormtable.Cursor"><tt class="xref py py-class docutils literal"><span class="pre">Cursor</span></tt></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="wormtable.Table.open_index">
<tt class="descname">open_index</tt><big>(</big><em>index_name</em>, <em>cache_size='16M'</em><big>)</big><a class="headerlink" href="#wormtable.Table.open_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an index with the specified name opened in read mode with 
the specified cache_size.</p>
<p>See <a class="reference internal" href="performance.html#performance-cache"><em>Cache tuning</em></a> for details on setting cache sizes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>index_name</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; the name of the index to open</li>
<li><strong>cache_size</strong> (<em>str or int.</em>) &#8211; the size of the cache on the index</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="wormtable.Table.open">
<tt class="descname">open</tt><big>(</big><em>mode</em><big>)</big><a class="headerlink" href="#wormtable.Table.open" title="Permalink to this definition">¶</a></dt>
<dd><p>Opens this table in the specified mode. Mode must be one of 
&#8216;r&#8217; or &#8216;w&#8217;.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Param :</th><td class="field-body">mode: The mode to open the table in.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type :</th><td class="field-body">mode: str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="wormtable.Table.close">
<tt class="descname">close</tt><big>(</big><big>)</big><a class="headerlink" href="#wormtable.Table.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Closes this table freeing all underlying resources.</p>
</dd></dl>

<dl class="method">
<dt id="wormtable.Table.set_cache_size">
<tt class="descname">set_cache_size</tt><big>(</big><em>cache_size</em><big>)</big><a class="headerlink" href="#wormtable.Table.set_cache_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the cache size to the specified value. 
If cache_size is a string, it can be suffixed with 
K, M or G to specify units of Kibibytes, Mibibytes or Gibibytes.</p>
<p>This must be called before a table is opened, and has no effect 
on a table that is already open.</p>
<p>See <a class="reference internal" href="performance.html#performance-cache"><em>Cache tuning</em></a> for details on setting cache sizes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cache_size</strong> (<em>str or int</em>) &#8211; the size of the cache</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="wormtable.Table.columns">
<tt class="descname">columns</tt><big>(</big><big>)</big><a class="headerlink" href="#wormtable.Table.columns" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the list of columns in this table.</p>
</dd></dl>

<dl class="method">
<dt id="wormtable.Table.get_column">
<tt class="descname">get_column</tt><big>(</big><em>col_id</em><big>)</big><a class="headerlink" href="#wormtable.Table.get_column" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the <a class="reference internal" href="#wormtable.Column" title="wormtable.Column"><tt class="xref py py-class docutils literal"><span class="pre">Column</span></tt></a> corresponding to the specified id. If this is an
integer, we return the column at this position; if it is a string
we return the column with the specified name.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Param :</th><td class="field-body">col_id: the column idenifier</td>
</tr>
<tr class="field-even field"><th class="field-name">Type :</th><td class="field-body">col_id: str or int</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="wormtable.Cursor">
<em class="property">class </em><tt class="descclassname">wormtable.</tt><tt class="descname">Cursor</tt><a class="headerlink" href="#wormtable.Cursor" title="Permalink to this definition">¶</a></dt>
<dd><p>Cursors provide an efficient means of iterating over the rows in a table,
retreiving a subset of the columns in the row. This is much more efficient
that iterating over the table directly and retreiving the values of
interest from the tuples returned because only the values that we are
interested in are converted into Python values and passed back.</p>
<p>Cursors are instantiated using the <a class="reference internal" href="#wormtable.Table.cursor" title="wormtable.Table.cursor"><tt class="xref py py-meth docutils literal"><span class="pre">Table.cursor()</span></tt></a> method
which provide the interface for choosing the columns that we
are interested in. Cursors also provide methods to set the
maximum and minimum values of the row keys we wish to examine.</p>
<dl class="method">
<dt id="wormtable.Cursor.set_min">
<tt class="descname">set_min</tt><big>(</big><em>v</em><big>)</big><a class="headerlink" href="#wormtable.Cursor.set_min" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the minimum row key to retrieve to the specified value.</p>
</dd></dl>

<dl class="method">
<dt id="wormtable.Cursor.set_max">
<tt class="descname">set_max</tt><big>(</big><em>v</em><big>)</big><a class="headerlink" href="#wormtable.Cursor.set_max" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the maximum row key to retrieve to the specified value.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="wormtable.Index">
<em class="property">class </em><tt class="descclassname">wormtable.</tt><tt class="descname">Index</tt><a class="headerlink" href="#wormtable.Index" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes define a <em>sorting order</em> of the rows in a table. An index over a set
of columns creates a sorting order over the table by concatenating the values
from the columns in question together (the <em>keys</em>) and storing the mapping
of these keys to the row in the table in which the key occurs.</p>
<dl class="method">
<dt id="wormtable.Index.open">
<tt class="descname">open</tt><big>(</big><em>mode</em><big>)</big><a class="headerlink" href="#wormtable.Index.open" title="Permalink to this definition">¶</a></dt>
<dd><p>Opens this index in the specified mode.</p>
</dd></dl>

<dl class="method">
<dt id="wormtable.Index.close">
<tt class="descname">close</tt><big>(</big><big>)</big><a class="headerlink" href="#wormtable.Index.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Closes this Index.</p>
</dd></dl>

<dl class="method">
<dt id="wormtable.Index.get_min">
<tt class="descname">get_min</tt><big>(</big><em>*k</em><big>)</big><a class="headerlink" href="#wormtable.Index.get_min" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the smallest index key greater than or equal to the specified 
prefix.</p>
</dd></dl>

<dl class="method">
<dt id="wormtable.Index.get_max">
<tt class="descname">get_max</tt><big>(</big><em>*k</em><big>)</big><a class="headerlink" href="#wormtable.Index.get_max" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the largest index key less than the specified prefix.</p>
</dd></dl>

<dl class="method">
<dt id="wormtable.Index.counter">
<tt class="descname">counter</tt><big>(</big><big>)</big><a class="headerlink" href="#wormtable.Index.counter" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an IndexCounter object for this index. This provides an efficient 
method of iterating over the keys in the index.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="wormtable.Column">
<em class="property">class </em><tt class="descclassname">wormtable.</tt><tt class="descname">Column</tt><a class="headerlink" href="#wormtable.Column" title="Permalink to this definition">¶</a></dt>
<dd><p>Columns define the storage types for values within a table.</p>
<dl class="method">
<dt id="wormtable.Column.get_name">
<tt class="descname">get_name</tt><big>(</big><big>)</big><a class="headerlink" href="#wormtable.Column.get_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the name of this column.</p>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">API Documentation</a><ul>
<li><a class="reference internal" href="#examples">Examples</a></li>
<li><a class="reference internal" href="#reference">Reference</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="data-types.html"
                        title="previous chapter">Data types</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="utilities.html"
                        title="next chapter">Command line utilities</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/api.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="utilities.html" title="Command line utilities"
             >next</a> |</li>
        <li class="right" >
          <a href="data-types.html" title="Data types"
             >previous</a> |</li>
        <li><a href="index.html">wormtable 0.1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, Jerome Kelleher.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>